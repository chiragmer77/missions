<!--Container Main start-->
<div class="p-3">
    <div class="top_header float-start w-100">
        <div class="screen-heading">
            <h3 class="float-start">
                Clients
            </h3>
            <div class="top_action float-end">
                <ul>
                    <li *ngIf="isSearchVisible" class="search-input">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Search..."
                                [(ngModel)]="pagePayload.Search" (input)="updateSearchQuery()" />
                            <span class="input-group-text" (click)="closeSearchInput()">
                                <i class="bi bi-x"></i>
                            </span>
                        </div>
                    </li>
                    <li *ngIf="!isSearchVisible">
                        <a class="m_slider" (click)="toggleSearchInput()">
                            <i class="bi bi-search"></i>
                        </a>
                    </li>
                    <li>
                        <app-add-clients (onClose)="handleChildComponentClose()"></app-add-clients>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="Container p-0">
        <div class="row p-0">
            <table class="table mb-0">
                <thead class="table-light">
                    <tr>
                        <th scope="col"
                            (click)="pagePayload.IsDescending = !pagePayload.IsDescending == true ; getClientsLists()">
                            Company Name
                            <span>
                                <i class="bi bi-caret-up-fill" *ngIf="pagePayload.IsDescending"></i>
                                <i class="bi bi-caret-down-fill" *ngIf="!pagePayload.IsDescending"></i>
                            </span>
                        </th>
                        <th scope="col">Address</th>
                        <th scope="col">Person of Contact</th>
                        <th scope="col">Email Address</th>
                        <th scope="col">Missions</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of clientsLists | paginate: { itemsPerPage: 10, currentPage: p }">
                        <td>{{data.name}}</td>
                        <td>{{data.address}}</td>
                        <td>{{data.contact}}</td>
                        <td>{{data.email}}</td>
                        <td>
                            <span class="go-to-mission pointer" (click)="goToMissionPage(data)">
                                {{data.projects}}
                            </span>
                        </td>
                        <td class="action-menus">
                            <button class="btn" type="submit" data-bs-toggle="tooltip" data-bs-placement="left"
                                title="Tooltip on left">
                                <i class="bi bi-eye"></i>
                            </button>
                            <i class="bi bi-three-dots-vertical" id="dropdownMenuButton1" data-bs-toggle="dropdown"
                                aria-expanded="false"></i>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                                <li>
                                    <a class="dropdown-item update" (click)="editDetails(data)">
                                        Update Details
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item delete" (click)="delete(data)">
                                        Delete Client
                                    </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="text-end mt-4">
                <pagination-controls (pageChange)="p = $event"></pagination-controls>
            </div>
            <div class="no-records-found mt-5 text-center" *ngIf="clientsLists.length == 0">
                <span>No Records Found ! </span>
            </div>
        </div>
    </div>
</div>
<!--Container Main end-->

<app-confirmation-modal (onClose)="onCloseConfirmationModal($event)" [isOpen]="isConfirmationModalOpen"
    [title]="modalTitle" [message]="modalMessage"></app-confirmation-modal>